<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="description" content="单词浏览">
    <meta name="keywords" content="单词浏览,单词浏览">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>单词浏览</title>
    <link rel="stylesheet" crossorigin="anonymous"
        href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.1/css/bootstrap.min.css">
    <link rel="stylesheet" crossorigin="anonymous"
        href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.1/animate.min.css">
    <style>
        .glassbga {
            /*渐变*/
            background: linear-gradient(to right bottom, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.2));
            ;
            border-radius: 1rem;
            box-shadow: 6px 6px 10px rgba(112, 112, 112, 0.2);
        }

        .glassbg {
            background: linear-gradient(to right top, #65dfc9, #6cdbeb);
            border-radius: 1rem;
        }

        .circle-ab {
            background: linear-gradient(to right bottom, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.2));
            height: 14rem;
            width: 14rem;
            position: absolute;
            border-radius: 50%;
            opacity: 0.3;
        }

        .circle1 {
            top: 0%;
            right: 13%;
        }

        .circle2 {
            bottom: 6%;
            left: 13%;
        }

        .center {
            position: absolute;
            left: 50%;
            top: 10%;
            transform: translate(-50%, -50%);
        }
    </style>
</head>
<!--
     swiper 展示
-->

<body id="q-app" class="glassbg text-white  ">
    <!--悬浮球-->
    <div class="circle1 circle-ab"> </div>
    <div class="circle2 circle-ab"></div>
    <!-- 齿轮修改 --->
    <span @click="pd.shwoChange = !pd.shwoChange  " class=" btn d-flex  fixed-top justify-content-end      "
        style="font-size:32px;  filter: grayscale(100%); ">⚙</span>


    </div><!---上面的结果框val--->
    <div class="container ">
        <div class="mt-2 row justify-content-center  ">
            <div class="w-100 mb-5   d-none d-md-block"><!---高度垫子 小设备隐藏--></div>
            <div :class="{'animate__animated  animate__bounceInUp':pd.showLucky}">
                <h3>检查</h3>
            </div>
            <div class="w-100 mb-5   d-none d-md-block"><!---高度垫子 小设备隐藏--></div>
        </div>
    </div>
    <!--卡片-->
    <div class=" container-md   glassbga  pt-5  pb-5">
        <div class=" row   align-items-center   justify-content-around   ">

            <img v-bind:src="pd.row.img" style="max-width:100%;overflow:hidden;" class="img-fluid" alt="...">

        </div>
        <div class=" row   align-items-center   justify-content-center" style="height: 80px;">

            <button @click="er.emit('播放',0) "
                class="btn mx-5   w-25 shadow align-middle badge-secondary badge   badge-pill">
                <h3> {{pd.row.zh || 中文}} </h3>
            </button>
            <button @click="er.emit('播放',1) " class="btn mx-5 w-25    shadow   badge-info badge   badge-pill">
                <h3>{{pd.row.en || 英文}} </h3>
            </button>
        </div>
        <!---nan-->
        <div class=" d-flex    align-items-center  justify-content-center " style="height: 80px;">

            <span class="  mx-4   shadow   badge-info   badge badge-pill">
                <audio controls="controls" v-bind:src="pd.row.zh4m">
                    Your browser does not support the audio element.
                </audio>
            </span>

            <span class="   mx-4    shadow   badge-info badge   badge-pill">
                <audio controls="controls" v-bind:src="pd.row.en4m">
                    Your browser does not support the audio element.
                </audio>
            </span>


        </div>
        <!---nv-->
        <div class=" d-flex     align-items-center  justify-content-center " style="height: 80px;">

            <span class="  mx-4  shadow    badge badge-light badge-pill">
                <audio controls="controls" v-bind:src="pd.row.zh4f">
                    Your browser does not support the audio element.
                </audio>
            </span>

            <span class="  mx-4  shadow   badge-light badge   badge-pill">
                <audio controls="controls" v-bind:src="pd.row.en4f">
                    Your browser does not support the audio element.
                </audio>
            </span>


        </div>
    </div>

    <!---修改-->
    <transition enter-active-class="animated bounceIn" leave-active-class="animated bounceOut">
        <div v-if="pd.shwoChange==0?false:true" class="container-md    glassbga  mt-4  mb-4   pt-3  pb-3">
            <div class=" row  align-items-center  justify-items-around justify-content-around  ">
                <div class="   d-flex col-md-3 col-sm-3   ">
                    <label class="text-dark   d-flex  m-1 w-25 align-items-center  ">音标</label>
                    <input type="text" v-model="pd.row.ph" class="w-75 p-1 m-1 form-control">
                </div>
                <div class="   d-flex col-md-2 col-sm-2   ">


                    <div class="dropdown ">
                        <button type="button" class="btn btn-primary dropdown-toggle p-1 m-1" data-toggle="dropdown">
                            {{pd.mknew.lang}}
                        </button>
                        <div class="dropdown-menu">
                            <a class="dropdown-item" @click='er.emit("修改",{"lang":"中","langCode":"zh-CN"}) '
                                href="#">中</a>
                            <a class="dropdown-item" @click='er.emit("修改",{"lang":"英","langCode":"en-US"}) '
                                href="#">英</a>
                        </div>
                    </div>
                    <div class="dropdown">
                        <button type="button" class="btn btn-primary dropdown-toggle p-1 m-1" data-toggle="dropdown">
                            {{pd.mknew.gender}}
                        </button>
                        <div class="dropdown-menu">
                            <a class="dropdown-item" @click='er.emit("修改",{"gender":"男","genderCode":"Male"}) '
                                href="#">男</a>
                            <a class="dropdown-item" @click='er.emit("修改",{"gender":"女","genderCode":"Female"}) '
                                href="#">女</a>
                        </div>
                    </div>
                </div>

                <div class="    d-flex col-md-5 col-sm-5     ">
                    <select class="form-select w-100   " v-model="pd.selected" aria-label="multiple">
                        <option v-for=" op  in  pd.opList " :value="op.ShortName">{{op.LocalName}} （{{op.ShortName}}）
                        </option>
                    </select>
                </div>


                <div>
                    <button @click="er.emit('更新' ) " class="btn shadow-lg btn-danger">更新</button>
                </div>
            </div>


        </div>
        </div>
    </transition>
    <!--底部按钮-->
    <div class="fixed-bottom row justify-content-center     ">
        <div class=" d-flex  col-md-6 col-sm-8   bg-warning glassbga  justify-content-around ">
            <button @click="er.emit('翻页',-1) " class="btn shadow-lg shadow btn-danger">上一个
                <span class="position-absolute badge badge-light badge-pill" v-text="pd.nameSize"> </span>
            </button>
            <label class="text-dark d-flex  align-items-center  ">页码 </label>
            <input type="text" v-model="pd.page" class="w-25 form-control">
            <button ref="ref_login_manage" @click="er.emit('翻页',0) " class="btn shadow-lg btn-danger">跳转
            </button>


            <button @click="er.emit('翻页',1) " class="btn shadow-lg shadow btn-danger">下一个
                <span class="position-absolute badge badge-light badge-pill" v-text="pd.nameSize"> </span>
            </button>

        </div>
        <div class="w-100 mb-5   d-none d-md-block"><!---高度垫子 小设备隐藏--></div>
    </div>

    <!---info提示信息--->
    <transition mode="out-in" enter-active-class="animated pulse" leave-active-class="animated bounceOutRight">
        <div class=" container-sm  fixed-top    " style="z-index: 1083 ;" v-for="site in pd.info_list">
            <div class="alert  alert-warning alert-dismissible fade show" role="alert">
                <strong>{{site.type}}</strong>{{ site.info }}
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        </div>
    </transition>
    <!---遮罩1024--->
    <div v-if="pd.sp==0?false:true" @click="er.emit('遮罩',0) " style="z-index: 1081  ;" class=" modal-backdrop show ">

    </div>
    <!---载入动画--->
    <div v-if="pd.sp==0?false:true"
        class="center w-100 mt-5   row d-flex     align-items-center  justify-content-center  "
        style="z-index: 1082  ;">
        <div class="spinner-border   "></div>
    </div>

    <!---进度条---->
    <div v-if="pd.vprogress>98?false:true" class="center w-100   px-3   " style="z-index: 1082 ; ">
        <div class="progress">
            <div class=" progress-bar  progress-bar-striped progress-bar-animated  "
                v-bind:style="{ width: pd.vprogress+'%' , }">{{pd.vprogress}}%</div>
        </div>
    </div>





    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.2.47/vue.global.prod.min.js"></script>
    <!--script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.2/lodash.min.js"></script--->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/EventEmitter/5.2.8/EventEmitter.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.5/umd/popper.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script>



    <script>

        const ailist = [{
            'LocalName': 'Jenny',
            'ShortName': 'en-US-JennyNeural',
            'Gender': 'Female',
            'Locale': 'en-US'
        },
        {
            'LocalName': 'Jenny Multilingual',
            'ShortName': 'en-US-JennyMultilingualNeural',
            'Gender': 'Female',
            'Locale': 'en-US'
        },
        {
            'LocalName': 'Guy',
            'ShortName': 'en-US-GuyNeural',
            'Gender': 'Male',
            'Locale': 'en-US'
        },
        {
            'LocalName': 'Aria',
            'ShortName': 'en-US-AriaNeural',
            'Gender': 'Female',
            'Locale': 'en-US'
        },
        {
            'LocalName': 'Davis',
            'ShortName': 'en-US-DavisNeural',
            'Gender': 'Male',
            'Locale': 'en-US'
        },
        {
            'LocalName': 'Amber',
            'ShortName': 'en-US-AmberNeural',
            'Gender': 'Female',
            'Locale': 'en-US'
        },
        {
            'LocalName': 'Ana',
            'ShortName': 'en-US-AnaNeural',
            'Gender': 'Female',
            'Locale': 'en-US'
        },
        {
            'LocalName': 'Ashley',
            'ShortName': 'en-US-AshleyNeural',
            'Gender': 'Female',
            'Locale': 'en-US'
        },
        {
            'LocalName': 'Brandon',
            'ShortName': 'en-US-BrandonNeural',
            'Gender': 'Male',
            'Locale': 'en-US'
        },
        {
            'LocalName': 'Christopher',
            'ShortName': 'en-US-ChristopherNeural',
            'Gender': 'Male',
            'Locale': 'en-US'
        },
        {
            'LocalName': 'Cora',
            'ShortName': 'en-US-CoraNeural',
            'Gender': 'Female',
            'Locale': 'en-US'
        },
        {
            'LocalName': 'Elizabeth',
            'ShortName': 'en-US-ElizabethNeural',
            'Gender': 'Female',
            'Locale': 'en-US'
        },
        {
            'LocalName': 'Eric',
            'ShortName': 'en-US-EricNeural',
            'Gender': 'Male',
            'Locale': 'en-US'
        },
        {
            'LocalName': 'Jacob',
            'ShortName': 'en-US-JacobNeural',
            'Gender': 'Male',
            'Locale': 'en-US'
        },
        {
            'LocalName': 'Jane',
            'ShortName': 'en-US-JaneNeural',
            'Gender': 'Female',
            'Locale': 'en-US'
        },
        {
            'LocalName': 'Jason',
            'ShortName': 'en-US-JasonNeural',
            'Gender': 'Male',
            'Locale': 'en-US'
        },
        {
            'LocalName': 'Michelle',
            'ShortName': 'en-US-MichelleNeural',
            'Gender': 'Female',
            'Locale': 'en-US'
        },
        {
            'LocalName': 'Monica',
            'ShortName': 'en-US-MonicaNeural',
            'Gender': 'Female',
            'Locale': 'en-US'
        },
        {
            'LocalName': 'Nancy',
            'ShortName': 'en-US-NancyNeural',
            'Gender': 'Female',
            'Locale': 'en-US'
        },
        {
            'LocalName': 'Roger',
            'ShortName': 'en-US-RogerNeural',
            'Gender': 'Male',
            'Locale': 'en-US'
        },
        {
            'LocalName': 'Sara',
            'ShortName': 'en-US-SaraNeural',
            'Gender': 'Female',
            'Locale': 'en-US'
        },
        {
            'LocalName': 'Steffan',
            'ShortName': 'en-US-SteffanNeural',
            'Gender': 'Male',
            'Locale': 'en-US'
        },
        {
            'LocalName': 'Tony',
            'ShortName': 'en-US-TonyNeural',
            'Gender': 'Male',
            'Locale': 'en-US'
        },
        {
            'LocalName': '晓晓',
            'ShortName': 'zh-CN-XiaoxiaoNeural',
            'Gender': 'Female',
            'Locale': 'zh-CN'
        },
        {
            'LocalName': '云希',
            'ShortName': 'zh-CN-YunxiNeural',
            'Gender': 'Male',
            'Locale': 'zh-CN'
        },
        {
            'LocalName': '云健',
            'ShortName': 'zh-CN-YunjianNeural',
            'Gender': 'Male',
            'Locale': 'zh-CN'
        },
        {
            'LocalName': '晓伊',
            'ShortName': 'zh-CN-XiaoyiNeural',
            'Gender': 'Female',
            'Locale': 'zh-CN'
        },
        {
            'LocalName': '云扬',
            'ShortName': 'zh-CN-YunyangNeural',
            'Gender': 'Male',
            'Locale': 'zh-CN'
        },
        {
            'LocalName': '晓辰',
            'ShortName': 'zh-CN-XiaochenNeural',
            'Gender': 'Female',
            'Locale': 'zh-CN'
        },
        {
            'LocalName': '晓涵',
            'ShortName': 'zh-CN-XiaohanNeural',
            'Gender': 'Female',
            'Locale': 'zh-CN'
        },
        {
            'LocalName': '晓梦',
            'ShortName': 'zh-CN-XiaomengNeural',
            'Gender': 'Female',
            'Locale': 'zh-CN'
        },
        {
            'LocalName': '晓墨',
            'ShortName': 'zh-CN-XiaomoNeural',
            'Gender': 'Female',
            'Locale': 'zh-CN'
        },
        {
            'LocalName': '晓秋',
            'ShortName': 'zh-CN-XiaoqiuNeural',
            'Gender': 'Female',
            'Locale': 'zh-CN'
        },
        {
            'LocalName': '晓睿',
            'ShortName': 'zh-CN-XiaoruiNeural',
            'Gender': 'Female',
            'Locale': 'zh-CN'
        },
        {
            'LocalName': '晓双',
            'ShortName': 'zh-CN-XiaoshuangNeural',
            'Gender': 'Female',
            'Locale': 'zh-CN'
        },
        {
            'LocalName': '晓萱',
            'ShortName': 'zh-CN-XiaoxuanNeural',
            'Gender': 'Female',
            'Locale': 'zh-CN'
        },
        {
            'LocalName': '晓颜',
            'ShortName': 'zh-CN-XiaoyanNeural',
            'Gender': 'Female',
            'Locale': 'zh-CN'
        },
        {
            'LocalName': '晓悠',
            'ShortName': 'zh-CN-XiaoyouNeural',
            'Gender': 'Female',
            'Locale': 'zh-CN'
        },
        {
            'LocalName': '晓甄',
            'ShortName': 'zh-CN-XiaozhenNeural',
            'Gender': 'Female',
            'Locale': 'zh-CN'
        },
        {
            'LocalName': '云枫',
            'ShortName': 'zh-CN-YunfengNeural',
            'Gender': 'Male',
            'Locale': 'zh-CN'
        },
        {
            'LocalName': '云皓',
            'ShortName': 'zh-CN-YunhaoNeural',
            'Gender': 'Male',
            'Locale': 'zh-CN'
        },
        {
            'LocalName': '云夏',
            'ShortName': 'zh-CN-YunxiaNeural',
            'Gender': 'Male',
            'Locale': 'zh-CN'
        },
        {
            'LocalName': '云野',
            'ShortName': 'zh-CN-YunyeNeural',
            'Gender': 'Male',
            'Locale': 'zh-CN'
        },
        {
            'LocalName': '云泽',
            'ShortName': 'zh-CN-YunzeNeural',
            'Gender': 'Male',
            'Locale': 'zh-CN'
        }];

    </script>


    <script>
        const er = new EventEmitter //事件线
        const { onMounted, emits, createApp, ref, watch, computed } = Vue

        const gd = {};//全局数据 解决调用引用问题
        const pd = ref({ "load": [] }); //特殊变量，页面数据
        const pvs = pd.value; //变量代理访问
        gd.pd = pd;//page data 页面元素引用"数据"
        gd.storage = {
            //本地浏览器 存取组件
            set(key, value) {
                localStorage.setItem(key, JSON.stringify(value));
            },
            get(key) {
                return JSON.parse(localStorage.getItem(key));
            },
            remove(key) {
                localStorage.removeItem(key);
            },
        }

        class pgui {
            /* 界面控制类 初始化界面默认值 */
            constructor(arg) {
                //初始值

                pvs.load.unshift('pgui')//从开头添加一个值
                pvs.sp = 0; //遮罩路由 (0.无，1.名单，2.登入 ,3.管理)
                pvs.row = {};//单词数据的一行
                pvs.shwoChange = 1;//设置显示

                //this.initManage();
                pvs.page = gd.storage.get('page') ? gd.storage.get('page') : 0;//当前页码
                pvs.info_list = []//{info:"2",type:"2"}
                pvs.vprogress = 100 //进度条
                //发音选择
                pvs.mknew = { "gender": "女", "genderCode": "Female", "lang": "英", "langCode": "en-US" }
                pvs.selected = 'en-US-JennyNeural'
                pvs.selectList = ailist
                //pvs.opList = ailist
                this.init();
            }

            init() {
                //绑定事件
                er.on("读取.单词", this.getRow)
                er.on('收到.单词', this.signing)
                er.on('遮罩', this.spto)
                er.on('播放', this.play)

                er.on('翻页', this.nextPage)
                er.on('修改', this.toChange)
                er.on('更新', this.toUpdate)
                er.on('更新.发音', this.toUpdated)
                //初始效果


            }
            nextPage(n) {
                //翻页
                const that = gd.oui
                //pvs.page = gd.storage.get ('page')
                pvs.page = parseInt(pvs.page) + n;
                if (pvs.page <= 0) { pvs.page = 0 }
                gd.storage.set('page', pvs.page)
                console.log("page=", pvs.page)
                that.getRow(1)
            }
            play(n) {
                //播
                console.log('播放=', n)
                //播放指定 document.querySelectorAll('audio')[0].play()
                document.querySelectorAll('audio')[n].play()

            }
            toChange(dc) {
                // 设置 修改选择框 男女、中英

                pvs.mknew = Object.assign({}, pvs.mknew, dc);
            }
            toUpdate(dc) {
                // 设置 修改选择框 男女、中英
                var col = 's4' + pvs.mknew.langCode.substring(0, 2) + '4' + pvs.mknew.genderCode.substring(0, 1)
                col = col.toLowerCase()
                console.log(col, pvs.row.id, pvs.selected, pvs.row.ph, pvs.mknew)


                const that = gd.oui
                //获取数据，发送请求
                var url = "http://127.0.0.1:2028/jsonapi/put";
                //url = "http://127.0.0.1:2028/jsonapi";
                var query = { "id": pvs.row.id }
                var setdat = {}
                var data = { "单个词表": query, "update": setdat };

                setdat[col] = pvs.selected //发音
                setdat['ph'] = pvs.row.ph //音标

                var opt = {
                    method: 'POST',
                    mode: 'cors',
                    cache: 'no-cache',
                    body: JSON.stringify(data),
                    "headers": {
                        'Content-Type': 'application/json'
                    }
                }
                console.log(data)
                //发送
                fetch(url, opt)
                    .then(res => res.json())
                    .catch(this.signErr)
                    .then(dat => er.emit('更新.发音', dat))
                    ;
                //动画效果
                that.loginLoading(1)
                that.spto(1) //loading 
            }

         
            getRow(e) {
                const that = gd.oui
                //获取数据，发送请求
                var url = "http://127.0.0.1:2028/jsonapi/get";
                //url = "http://127.0.0.1:2028/jsonapi";
                var ja = {}
                var data = { "单个词表": ja };
                ja['@limit'] = 1
                ja['@page'] = pvs.page
                var opt = {
                    method: 'POST',
                    mode: 'cors',
                    cache: 'no-cache',
                    body: JSON.stringify(data),
                    "headers": {
                        'Content-Type': 'application/json'
                    }
                }
                //发送
                fetch(url, opt)
                    .then(res => res.json())
                    .catch(this.signErr)
                    .then(dat => er.emit('收到.单词', dat))
                    ;
                //动画效果
                that.loginLoading(1)
                that.spto(1) //loading 
            }
            loginLoading(n) {
                //登入中效果
                pvs.loginLoding = n
            }
            spto(n) {
                //遮罩和二级界面
                /*切换界面*/
                pvs.sp = n

            }

            progress(n) {
                const that = gd.oui
                //进度  0 和 100 都隐藏
                console.log("进度", n)
                pvs.vprogress = pvs.vprogress + n
                if (pvs.vprogress > 98) {
                    that.spto(0)
                    that.loginLoading(0)
                }
            }

            showInfo(info, type = '') {
                //结果提示信息 （数据驱动）
                //添加数据，来添加提示
                pvs.info_list.push({ "info": info, "type": type })
                //缺少动效
                setTimeout(function () { pvs.info_list.splice(0, 1); }, 4000);
            }

            signErr(error) {
                //登入错误处理
                const that = gd.oui
                console.log('Error:', error);
                that.loginLoading(0) //loading 
                that.spto(0) //loading  
                that.showInfo('无法加载到数据，刷新重试', '载入数据：') //loading  

            }
            signing(dat) {
                // 读取数据到 json/翻页    页面
                const that = gd.oui
                console.log('请求返回数据', dat);

                //词展示++++
                that.loginLoading(0) //loading 
                that.spto(0) //loading 
                if (typeof (dat) == "undefined" || dat['单个词表'].length == 0) { return } //没数据

                //设置数据
                console.log(dat['单个词表'][0])
                pvs.row = dat['单个词表'][0]
                //pvs.row.img = '/en500word/h/e/健康.png' //  /en500word/h/e/健康.png
                pvs.row.img = `/en500word/${pvs.row.en.substring(0, 1)}/${pvs.row.en.substring(1, 2)}/${pvs.row.zh}.png` //  /en500word/h/e/健康.png
                //设置 mp3
                pvs.row.zh4m = `/en500word/${pvs.row.en.substring(0, 1)}/${pvs.row.en.substring(1, 2)}/${pvs.row.zh}_cn4m.mp3` //   
                pvs.row.en4m = `/en500word/${pvs.row.en.substring(0, 1)}/${pvs.row.en.substring(1, 2)}/${pvs.row.zh}_en4m.mp3` //  
                pvs.row.zh4f = `/en500word/${pvs.row.en.substring(0, 1)}/${pvs.row.en.substring(1, 2)}/${pvs.row.zh}cn4f.mp3` //  没下划线
                pvs.row.en4f = `/en500word/${pvs.row.en.substring(0, 1)}/${pvs.row.en.substring(1, 2)}/${pvs.row.zh}en4f.mp3` //  没下划线
            }

            toUpdated(dat){
                //更新后
                const that = gd.oui
                console.log('请求返回数据', dat);
                  //词展示++++
                  that.loginLoading(0) //loading 
                that.spto(0) //loading 
                that.showInfo(dat['@msg'], '更新音标：') //loading  

            }

            watchPg(newValue, oldValue) {
                //watch
                console.log('gd pagedata 被修改')
                //console.log('gd pagedata 被修改\n', newValue, '\n', oldValue)
            }
            showOp() {
                //重计算
                //console.log('  showOp   ')
                var lang = pvs.mknew.lang == '中'
                const ls = [];
                for (var i in pvs.selectList) {
                    if (pvs.selectList[i].Locale == pvs.mknew.langCode && pvs.selectList[i].Gender == pvs.mknew.genderCode) {
                        ls.push(pvs.selectList[i]);
                    }
                }
                //console.log(" showOp list length== ",ls.length ,ls)
                return ls //pvs.mknew.lang;
            }
        }

        //----------开始
        let appdat = {
            setup() {

                const oui = new pgui(); //界面更改"方法"
                //const ocls = new cls(12);//默认选择
                //---放入全局解决this问题
                //gd.ocls = ocls; //抽奖类
                //gd.oin = oin; //通信逻辑
                gd.oui = oui; //ui界面

                watch(pd, oui.watchPg, { deep: true });
                pvs.opList = computed(() => oui.showOp()); //二次计算pvs.opList
                //onMounted(() => ocls.bindEvt()); //窗口大小变动事件
                //onMounted(() => oui.remount()); //已经登入刷新处理
                onMounted(() => oui.nextPage(0)); //已经登入刷新处理
                //--变量关联到html的映射 js访问要加.value
                return { er, pd, oui, "ref_login_manage": pd.refManageEmt, }
            }
        }
        const app = createApp(appdat)
        //app.use(Quasar) //vue的ui
        app.mount('#q-app')
    </script>



</body>

</html>